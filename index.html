<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Retry Backoff Calculator (Linear, Exponential & Fixed)</title>
    <meta
      name="description"
      content="Interactive retry backoff calculator for linear, exponential, and fixed strategies. Visualize per-retry and cumulative delays, caps, and total wait time."
    />
    <meta
      name="keywords"
      content="retry backoff calculator, exponential backoff calculator, linear backoff calculator, fixed backoff calculator, retry delay visualization"
    />
    <meta name="robots" content="index,follow,max-image-preview:large" />
    <meta name="application-name" content="Retry Backoff Calculator" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="canonical" href="https://retries.dev/" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:url" content="https://retries.dev/" />
    <meta property="og:title" content="Retry Backoff Calculator (Linear, Exponential & Fixed)" />
    <meta
      property="og:description"
      content="Calculate and visualize linear, exponential, or fixed retry schedules with capped and cumulative delay totals."
    />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Retry Backoff Calculator (Linear, Exponential & Fixed)" />
    <meta
      name="twitter:description"
      content="Calculate and visualize linear, exponential, or fixed retry schedules with capped and cumulative delay totals."
    />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Retry Backoff Calculator",
        "url": "https://retries.dev/",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Any",
        "description": "Calculate and visualize linear, exponential, and fixed retry backoff delays with optional max delay caps.",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    </script>
    <link rel="stylesheet" href="./styles.css" />
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"
    ></script>
    <script type="module" src="./src/main.js"></script>
  </head>
  <body>
    <main class="app-shell">
      <section class="panel app-panel">
        <header class="app-header">
          <div class="header-row">
            <h1>Retry Backoff Calculator</h1>
            <div class="header-actions">
              <button
                id="share-link"
                class="share-link-button"
                type="button"
                aria-label="Copy URL for current config"
                title="Copy URL for current config"
              >
                <span class="share-link-icon share-link-icon--default" aria-hidden="true">
                  <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                    <path
                      d="M11.47 3.22a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 1 1-1.06 1.06L12.75 5.56V13a.75.75 0 0 1-1.5 0V5.56L8.78 8.03a.75.75 0 1 1-1.06-1.06l3.75-3.75ZM6.5 9.25A2.25 2.25 0 0 0 4.25 11.5v7A2.25 2.25 0 0 0 6.5 20.75h11A2.25 2.25 0 0 0 19.75 18.5v-7a2.25 2.25 0 0 0-2.25-2.25h-2.25a.75.75 0 0 0 0 1.5h2.25c.41 0 .75.34.75.75v7a.75.75 0 0 1-.75.75h-11a.75.75 0 0 1-.75-.75v-7c0-.41.34-.75.75-.75h2.25a.75.75 0 0 0 0-1.5H6.5Z"
                    />
                  </svg>
                </span>
                <span class="share-link-icon share-link-icon--success" aria-hidden="true">✓</span>
                <span class="share-link-icon share-link-icon--error" aria-hidden="true">!</span>
                <span class="visually-hidden">Copy URL for current config</span>
              </button>
              <button
                id="theme-toggle"
                class="theme-toggle"
                type="button"
                aria-label="Switch theme"
                title="Switch theme"
                aria-pressed="false"
              >
                ☀
              </button>
            </div>
          </div>
        </header>

        <section class="content-block controls-panel">
          <div id="backoff-controls" class="controls-grid">
            <fieldset class="field field--full strategy-field" aria-label="Retry strategy">
              <div class="strategy-row">
                <div class="strategy-toggle">
                  <input
                    id="strategy-exponential"
                    type="radio"
                    name="strategy"
                    value="exponential"
                    checked
                  />
                  <label for="strategy-exponential" class="strategy-option">Exponential</label>

                  <input id="strategy-linear" type="radio" name="strategy" value="linear" />
                  <label for="strategy-linear" class="strategy-option">Linear</label>

                  <input id="strategy-fixed" type="radio" name="strategy" value="fixed" />
                  <label for="strategy-fixed" class="strategy-option">Fixed</label>
                </div>

                <div class="jitter-control">
                  <button
                    id="jitter-trigger"
                    class="jitter-trigger"
                    type="button"
                    aria-haspopup="dialog"
                    aria-controls="jitter-popover"
                    aria-expanded="false"
                  >
                    <span>Jitter:</span>
                    <span id="jitter-trigger-value">None</span>
                  </button>

                  <div
                    id="jitter-popover"
                    class="jitter-popover"
                    role="dialog"
                    aria-label="Jitter settings"
                    hidden
                  >
                    <fieldset class="jitter-field" aria-label="Jitter mode">
                      <div class="jitter-toggle">
                        <input id="jitter-none" type="radio" name="jitter" value="none" checked />
                        <label for="jitter-none" class="jitter-option">None</label>

                        <input id="jitter-equal" type="radio" name="jitter" value="equal" />
                        <label for="jitter-equal" class="jitter-option">Equal</label>

                        <input id="jitter-full" type="radio" name="jitter" value="full" />
                        <label for="jitter-full" class="jitter-option">Full</label>
                      </div>
                    </fieldset>
                  </div>
                </div>
              </div>
            </fieldset>

            <label class="field">
              <span>Initial Delay (ms)</span>
              <input
                id="initialDelayMs"
                name="initialDelayMs"
                aria-describedby="error-initialDelayMs"
                type="number"
                min="0"
                value="500"
                step="any"
              />
              <span id="error-initialDelayMs" class="field-error" aria-live="polite"></span>
            </label>

            <label class="field">
              <span>Max Retries (excludes initial request)</span>
              <input
                id="maxRetries"
                name="maxRetries"
                aria-describedby="error-maxRetries"
                type="number"
                min="0"
                max="1000"
                step="1"
                inputmode="numeric"
                value="5"
              />
              <span id="error-maxRetries" class="field-error" aria-live="polite"></span>
            </label>

            <label class="field">
              <span>Max Delay Cap (ms, optional)</span>
              <input
                id="maxDelayMs"
                name="maxDelayMs"
                aria-describedby="error-maxDelayMs"
                type="number"
                min="0"
                step="any"
              />
              <span id="error-maxDelayMs" class="field-error" aria-live="polite"></span>
            </label>

            <label id="factor-group" class="field strategy-only">
              <span>Backoff Factor (&gt; 1)</span>
              <input
                id="factor"
                name="factor"
                aria-describedby="error-factor"
                type="number"
                min="1.0001"
                step="any"
                value="2"
              />
              <span id="error-factor" class="field-error" aria-live="polite"></span>
            </label>

            <label id="increment-group" class="field strategy-only" hidden>
              <span>Linear Increment (ms)</span>
              <input
                id="incrementMs"
                name="incrementMs"
                aria-describedby="error-incrementMs"
                type="number"
                min="0"
                step="any"
                value="500"
              />
              <span id="error-incrementMs" class="field-error" aria-live="polite"></span>
            </label>
          </div>
        </section>

        <section class="content-block chart-panel">
          <div class="chart-toolbar">
            <fieldset
              id="chart-series-field"
              class="chart-toggle-field source-slot--reserved"
              aria-label="Chart delay source"
              aria-hidden="true"
            >
              <div class="chart-toggle-options">
                <input
                  id="chart-series-expected"
                  type="radio"
                  name="chartSeriesMode"
                  value="expected"
                  checked
                />
                <label for="chart-series-expected" class="chart-toggle-option">Expected</label>

                <input
                  id="chart-series-simulated"
                  type="radio"
                  name="chartSeriesMode"
                  value="simulated"
                />
                <label for="chart-series-simulated" class="chart-toggle-option">Simulated</label>
              </div>
            </fieldset>

            <fieldset class="chart-toggle-field" aria-label="Chart delay mode">
              <div class="chart-toggle-options">
                <input id="chart-mode-delay" type="radio" name="chartMode" value="delay" checked />
                <label for="chart-mode-delay" class="chart-toggle-option">Per Retry</label>

                <input id="chart-mode-cumulative" type="radio" name="chartMode" value="cumulative" />
                <label for="chart-mode-cumulative" class="chart-toggle-option">Cumulative</label>
              </div>
            </fieldset>
          </div>
          <div class="chart-frame">
            <canvas id="delay-chart" aria-label="Retry delay chart" role="img"></canvas>
          </div>
        </section>

        <section class="content-block summary-panel">
          <div class="summary-grid">
            <article class="summary-card summary-card--display">
              <h3>Time Unit</h3>
              <label class="summary-display-label" for="display-mode">
                <span class="visually-hidden">Time unit display mode</span>
                <select id="display-mode" name="displayMode">
                  <option value="ms" selected>Milliseconds</option>
                  <option value="s">Seconds</option>
                  <option value="min">Minutes</option>
                  <option value="h">Hours</option>
                  <option value="humanize">Human-readable</option>
                </select>
              </label>
            </article>
            <article class="summary-card">
              <h3>Total Retries</h3>
              <p id="summary-total-retries">-</p>
            </article>
            <article class="summary-card">
              <h3>Final Retry Delay</h3>
              <p id="summary-final-delay">-</p>
            </article>
            <article class="summary-card">
              <h3>Total Cumulative Wait</h3>
              <p id="summary-total-delay">-</p>
            </article>
          </div>
        </section>

        <section class="content-block table-panel">
          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>Retry #</th>
                  <th id="primary-delay-header">Delay (ms)</th>
                  <th id="secondary-delay-header" hidden>Expected Delay (ms)</th>
                  <th id="tertiary-delay-header" hidden>Max Delay (ms)</th>
                  <th id="cumulative-delay-header">Cumulative Delay (ms)</th>
                </tr>
              </thead>
              <tbody id="schedule-body">
                <tr>
                  <td class="placeholder-cell" colspan="3">
                    Adjust inputs to generate a schedule.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </section>
    </main>
    <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "891925f0a47d4c24b8f3161ff50809f1"}'></script><!-- End Cloudflare Web Analytics -->
  </body>
</html>
